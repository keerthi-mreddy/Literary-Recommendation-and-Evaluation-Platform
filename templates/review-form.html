{% extends 'base.html' %}
{% block body %}

    <div class="root-review-form">
        <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
        <title>Document</title>
        <div class="wrapper-review-form">
            <h3>Add Review</h3>
            <form action="/add-review" method="post">
                <input name="bookname" class="input-review-form" type="text" placeholder="Book Name" />
                <input name="author" type="text" class="input-review-form" placeholder="Author" />
                <textarea name="review" class="textarea-review-form" cols="30" rows="5"
                    placeholder="Your review..."></textarea>

                <div class="rating-review-form">
                    <label> Rating: </label>
                    <input type="number" name="user_rating" hidden>
                    <i class='bx bx-star star' style="--i: 0;"></i>
                    <i class='bx bx-star star' style="--i: 1;"></i>
                    <i class='bx bx-star star' style="--i: 2;"></i>
                    <i class='bx bx-star star' style="--i: 3;"></i>
                    <i class='bx bx-star star' style="--i: 4;"></i>
                    </input>

                </div>
                <div class="btn-group-review-form">
                    <button type="submit" class="btn submit">Submit</button>
                    <button class="btn cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        const allStar = document.querySelectorAll('.rating-review-form .star')
        const ratingValue = document.querySelector('.rating-review-form input')

        allStar.forEach((item, idx) => {
            item.addEventListener('click', function () {
                let click = 0
                ratingValue.value = idx + 1

                allStar.forEach(i => {
                    i.classList.replace('bxs-star', 'bx-star')
                    i.classList.remove('active')
                })
                for (let i = 0; i < allStar.length; i++) {
                    if (i <= idx) {
                        allStar[i].classList.replace('bx-star', 'bxs-star')
                        allStar[i].classList.add('active')
                    } else {
                        allStar[i].style.setProperty('--i', click)
                        click++
                    }
                }
            })
        })
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        .root-review-form {
            padding-left: 80vh;
            padding-top: 20vh;
            padding-right: 80vh;
            padding-bottom: 20vh;
        }

        /* Review Form Wrapper */
        .wrapper-review-form {
            --yellow: #FFBD13;
            --blue: #4383FF;
            --blue-d-1: #3278FF;
            --light: #F5F5F5;
            --grey: #AAA;
            --white: #FFF;
            --shadow: 8px 8px 30px rgba(0, 0, 0, .05);

            background: var(--white);
            padding: 2rem;
            max-width: 576px;
            width: 100%;
            border-radius: 0.75rem;
            box-shadow: var(--shadow);
            text-align: center;
        }

        /* Review Form Title */
        .wrapper-review-form h3 {
            font-size: xx-large;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Rating Section */
        .rating-review-form {
            display: flex;
            justify-content: center;
            align-items: center;
            grid-gap: 0.5rem;
            font-size: x-large;
            color: var(--yellow);
            margin-bottom: 2rem;
        }

        /* Rating Stars */
        .rating-review-form .star {
            cursor: pointer;
        }

        /* Active Star State */
        .rating-review-form .star.active {
            opacity: 0;
            animation: animate 0.5s calc(var(--i) * 0.1s) ease-in-out forwards;
        }

        /* Animation Keyframes */
        @keyframes animate {
            0% {
                opacity: 0;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Star Hover Effect */
        .rating-review-form .star:hover {
            transform: scale(1.1);
        }

        /* Textarea and Input Fields */
        .textarea-review-form,
        .input-review-form {
            width: 45vh;
            background: var(--light);
            padding: 1rem;
            border-radius: 0.5rem;
            border: none;
            outline: none;
            resize: none;
            margin-bottom: 1.5rem;
            font-size: large;
        }

        /* Button Group */
        .btn-group-review-form {
            display: flex;
            grid-gap: 0.5rem;
            align-items: center;
        }

        /* Buttons */
        .btn-group-review-form .btn {
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            border: none;
            outline: none;
            cursor: pointer;
            font-size: large;
            font-weight: 500;
        }

        /* Submit Button */
        .btn-group-review-form .btn.submit {
            background: var(--blue);
            color: var(--white);
        }

        /* Submit Button Hover */
        .btn-group-review-form .btn.submit:hover {
            background: var(--blue-d-1);
        }

        /* Cancel Button */
        .btn-group-review-form .btn.cancel {
            background: var(--white);
            color: var(--blue);
        }

        /* Cancel Button Hover */
        .btn-group-review-form .btn.cancel:hover {
            background: var(--light);
        }
    </style>

    <form>
        <!-- <input name="bookname" placeholder="Enter the Book name" required />
        <input name="author" placeholder="Author name" required /> -->
    </form>

    {% endblock body %}